{"version":3,"sources":["assets/md/1B.svg","assets/md sync /^/.*/.svg$","assets/md/10C.svg","assets/md/10D.svg","assets/md/10H.svg","assets/md/10S.svg","assets/md/11C.svg","assets/md/11D.svg","assets/md/11H.svg","assets/md/11S.svg","assets/md/12C.svg","assets/md/12D.svg","assets/md/12H.svg","assets/md/12S.svg","assets/md/13C.svg","assets/md/13D.svg","assets/md/13H.svg","assets/md/13S.svg","assets/md/1C.svg","assets/md/1D.svg","assets/md/1H.svg","assets/md/1J.svg","assets/md/1S.svg","assets/md/2B.svg","assets/md/2C.svg","assets/md/2D.svg","assets/md/2H.svg","assets/md/2J.svg","assets/md/2S.svg","assets/md/3C.svg","assets/md/3D.svg","assets/md/3H.svg","assets/md/3S.svg","assets/md/4C.svg","assets/md/4D.svg","assets/md/4H.svg","assets/md/4S.svg","assets/md/5C.svg","assets/md/5D.svg","assets/md/5H.svg","assets/md/5S.svg","assets/md/6C.svg","assets/md/6D.svg","assets/md/6H.svg","assets/md/6S.svg","assets/md/7C.svg","assets/md/7D.svg","assets/md/7H.svg","assets/md/7S.svg","assets/md/8C.svg","assets/md/8D.svg","assets/md/8H.svg","assets/md/8S.svg","assets/md/9C.svg","assets/md/9D.svg","assets/md/9H.svg","assets/md/9S.svg","assets/deck.svg","assets/reload.svg","assets sync /^/.*/.svg$","assets/C.svg","assets/D.svg","assets/H.svg","assets/S.svg","assets/star.svg","assets/trophy.svg","actions/gameActions.tsx","interfaces/game.ts","actions/scoreActions.tsx","utils.ts","dragTypes.ts","reducers/gameReducer.ts","components/Card.tsx","components/TableuPile.tsx","components/Talon.tsx","components/Stock.tsx","components/Foundation.tsx","components/CardDragPreview.tsx","actions/historyActions.tsx","reducers/scoreReducer.ts","components/Timer.tsx","components/GameButton.tsx","components/Modal.tsx","views/Game.tsx","App.tsx","serviceWorker.ts","store.ts","index.tsx"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","GameActionTypes","CardColor","CardState","drawCard","type","DrawCard","startNewGame","payload","NewGame","cardIsDragged","CardIsDragged","ScoreActionTypes","createTimeString","gameTime","seconds","Math","floor","slice","minutes","hours","toString","useMedia","query","useState","window","matchMedia","matches","setMatches","useEffect","media","listener","addListener","removeListener","getOffSet","index","offset","suits","createNewGame","startDeck","a","j","x","i","length","random","shuffle","deck","forEach","suit","push","rank","color","Red","Black","hidden","state","TableuPile","isDragging","createDeck","tableuPiles","tempPiles","splice","card","Deck","initialState","foundations","waste","selectWaste","game","present","selectDeck","selectFoundations","selectTableuPiles","selectNextFoundationCards","foundation","checkDoubleClick","nextFoundationCards","dispatch","find","nextCard","doubleClickedCard","CardDoubleClicked","Card","memo","isLastCard","useDispatch","useSelector","useDrag","item","end","monitor","dropResult","getDropResult","nextState","movedCard","TableuPileAddCards","Foundation","FoundationAddCards","addCardsToFoundation","collect","getItem","canDrag","drag","preview","getEmptyImage","captureDraggingState","alt","ref","className","src","require","style","top","display","undefined","onClick","TurnCard","onDoubleClick","onDragStart","preventDefault","stopPropagation","cards","useDrop","accept","canDrop","getDroppable","drop","isOver","xs","sm","md","getOffsetByMedia","useCallback","key","Talon","Stock","alignSelf","width","height","foundationSuit","tableuPile","CardDragPreview","draggedCard","setDraggedCard","memoizedPreview","useMemo","indexOfCard","findIndex","filter","createPreviewCards","generator","itemType","zIndex","HistoryActionTypes","startTime","isGameOver","scores","gameWonTime","selectIsGameOver","score","selectGameWonTime","selectStartTime","selectScores","newScores","sort","b","Timer","setGameTime","interval","setInterval","Date","now","clearInterval","every","JSON","parse","localStorage","setItem","stringify","GameIsOver","GameButton","icon","handleClick","text","Modal","onClose","showModal","header","children","Game","showScores","setShowScores","GetScores","handleStartNewGame","ClearHistory","handleScores","pile","CustomHTML5toTouch","backends","backend","HTML5Backend","transition","MouseTransition","TouchBackend","options","enableMouseEvents","TouchTransition","skipDispatchOnTransition","App","DndProvider","MultiBackend","Boolean","location","hostname","match","rootReducer","combineReducers","undoable","action","produce","draft","cardsToAdd","cardsLeft","suitIndex","indexOf","ignoreInitialState","clearHistoryType","excludeAction","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wGAAAA,EAAOC,QAAU,IAA0B,gC,uBCA3C,IAAIC,EAAM,CACT,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,GACZ,WAAY,IAIb,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,I,wBC7EpBL,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD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","file":"static/js/main.b9a693c7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1B.8ed7ee37.svg\";","var map = {\n\t\"./10C.svg\": 34,\n\t\"./10D.svg\": 35,\n\t\"./10H.svg\": 36,\n\t\"./10S.svg\": 37,\n\t\"./11C.svg\": 38,\n\t\"./11D.svg\": 39,\n\t\"./11H.svg\": 40,\n\t\"./11S.svg\": 41,\n\t\"./12C.svg\": 42,\n\t\"./12D.svg\": 43,\n\t\"./12H.svg\": 44,\n\t\"./12S.svg\": 45,\n\t\"./13C.svg\": 46,\n\t\"./13D.svg\": 47,\n\t\"./13H.svg\": 48,\n\t\"./13S.svg\": 49,\n\t\"./1B.svg\": 17,\n\t\"./1C.svg\": 50,\n\t\"./1D.svg\": 51,\n\t\"./1H.svg\": 52,\n\t\"./1J.svg\": 53,\n\t\"./1S.svg\": 54,\n\t\"./2B.svg\": 55,\n\t\"./2C.svg\": 56,\n\t\"./2D.svg\": 57,\n\t\"./2H.svg\": 58,\n\t\"./2J.svg\": 59,\n\t\"./2S.svg\": 60,\n\t\"./3C.svg\": 61,\n\t\"./3D.svg\": 62,\n\t\"./3H.svg\": 63,\n\t\"./3S.svg\": 64,\n\t\"./4C.svg\": 65,\n\t\"./4D.svg\": 66,\n\t\"./4H.svg\": 67,\n\t\"./4S.svg\": 68,\n\t\"./5C.svg\": 69,\n\t\"./5D.svg\": 70,\n\t\"./5H.svg\": 71,\n\t\"./5S.svg\": 72,\n\t\"./6C.svg\": 73,\n\t\"./6D.svg\": 74,\n\t\"./6H.svg\": 75,\n\t\"./6S.svg\": 76,\n\t\"./7C.svg\": 77,\n\t\"./7D.svg\": 78,\n\t\"./7H.svg\": 79,\n\t\"./7S.svg\": 80,\n\t\"./8C.svg\": 81,\n\t\"./8D.svg\": 82,\n\t\"./8H.svg\": 83,\n\t\"./8S.svg\": 84,\n\t\"./9C.svg\": 85,\n\t\"./9D.svg\": 86,\n\t\"./9H.svg\": 87,\n\t\"./9S.svg\": 88\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 25;","module.exports = __webpack_public_path__ + \"static/media/10C.6f21370e.svg\";","module.exports = __webpack_public_path__ + \"static/media/10D.7ceafc84.svg\";","module.exports = __webpack_public_path__ + \"static/media/10H.89867cee.svg\";","module.exports = __webpack_public_path__ + \"static/media/10S.1550b4f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/11C.ef15f429.svg\";","module.exports = __webpack_public_path__ + \"static/media/11D.9aa6eb63.svg\";","module.exports = __webpack_public_path__ + \"static/media/11H.32794f92.svg\";","module.exports = __webpack_public_path__ + \"static/media/11S.eba69461.svg\";","module.exports = __webpack_public_path__ + \"static/media/12C.dd25d112.svg\";","module.exports = __webpack_public_path__ + \"static/media/12D.a93fdc29.svg\";","module.exports = __webpack_public_path__ + \"static/media/12H.1461aa67.svg\";","module.exports = __webpack_public_path__ + \"static/media/12S.9e8a4716.svg\";","module.exports = __webpack_public_path__ + \"static/media/13C.9494424e.svg\";","module.exports = __webpack_public_path__ + \"static/media/13D.4acf89aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/13H.8cffbf35.svg\";","module.exports = __webpack_public_path__ + \"static/media/13S.6f0599b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/1C.6aacad9c.svg\";","module.exports = __webpack_public_path__ + \"static/media/1D.9686e6df.svg\";","module.exports = __webpack_public_path__ + \"static/media/1H.91872e9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/1J.cf084cf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/1S.5294b074.svg\";","module.exports = __webpack_public_path__ + \"static/media/2B.d2e31092.svg\";","module.exports = __webpack_public_path__ + \"static/media/2C.3e6e0c66.svg\";","module.exports = __webpack_public_path__ + \"static/media/2D.9f149c8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/2H.5206b48b.svg\";","module.exports = __webpack_public_path__ + \"static/media/2J.3d309d61.svg\";","module.exports = __webpack_public_path__ + \"static/media/2S.2a7e3921.svg\";","module.exports = __webpack_public_path__ + \"static/media/3C.bbbd7c30.svg\";","module.exports = __webpack_public_path__ + \"static/media/3D.2ff9d4f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/3H.5ab63ab8.svg\";","module.exports = __webpack_public_path__ + \"static/media/3S.56efdc49.svg\";","module.exports = __webpack_public_path__ + \"static/media/4C.c7bf4066.svg\";","module.exports = __webpack_public_path__ + \"static/media/4D.aeb85002.svg\";","module.exports = __webpack_public_path__ + \"static/media/4H.c0c6312b.svg\";","module.exports = __webpack_public_path__ + \"static/media/4S.51bbaefb.svg\";","module.exports = __webpack_public_path__ + \"static/media/5C.8ac11786.svg\";","module.exports = __webpack_public_path__ + \"static/media/5D.6a2b4aa2.svg\";","module.exports = __webpack_public_path__ + \"static/media/5H.a618a114.svg\";","module.exports = __webpack_public_path__ + \"static/media/5S.943dcc0d.svg\";","module.exports = __webpack_public_path__ + \"static/media/6C.47a22254.svg\";","module.exports = __webpack_public_path__ + \"static/media/6D.2254d6e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/6H.87303a03.svg\";","module.exports = __webpack_public_path__ + \"static/media/6S.93574444.svg\";","module.exports = __webpack_public_path__ + \"static/media/7C.196b8892.svg\";","module.exports = __webpack_public_path__ + \"static/media/7D.23307ca6.svg\";","module.exports = __webpack_public_path__ + \"static/media/7H.0fe0cb4c.svg\";","module.exports = __webpack_public_path__ + \"static/media/7S.a7553e2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/8C.20282acf.svg\";","module.exports = __webpack_public_path__ + \"static/media/8D.bce185a8.svg\";","module.exports = __webpack_public_path__ + \"static/media/8H.09333202.svg\";","module.exports = __webpack_public_path__ + \"static/media/8S.edb5ecd6.svg\";","module.exports = __webpack_public_path__ + \"static/media/9C.e16d75d8.svg\";","module.exports = __webpack_public_path__ + \"static/media/9D.92fe2b5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/9H.80019c80.svg\";","module.exports = __webpack_public_path__ + \"static/media/9S.0a453357.svg\";","module.exports = __webpack_public_path__ + \"static/media/deck.5f3a43f2.svg\";","module.exports = __webpack_public_path__ + \"static/media/reload.465f344e.svg\";","var map = {\n\t\"./C.svg\": 107,\n\t\"./D.svg\": 108,\n\t\"./H.svg\": 109,\n\t\"./S.svg\": 110,\n\t\"./deck.svg\": 89,\n\t\"./md/10C.svg\": 34,\n\t\"./md/10D.svg\": 35,\n\t\"./md/10H.svg\": 36,\n\t\"./md/10S.svg\": 37,\n\t\"./md/11C.svg\": 38,\n\t\"./md/11D.svg\": 39,\n\t\"./md/11H.svg\": 40,\n\t\"./md/11S.svg\": 41,\n\t\"./md/12C.svg\": 42,\n\t\"./md/12D.svg\": 43,\n\t\"./md/12H.svg\": 44,\n\t\"./md/12S.svg\": 45,\n\t\"./md/13C.svg\": 46,\n\t\"./md/13D.svg\": 47,\n\t\"./md/13H.svg\": 48,\n\t\"./md/13S.svg\": 49,\n\t\"./md/1B.svg\": 17,\n\t\"./md/1C.svg\": 50,\n\t\"./md/1D.svg\": 51,\n\t\"./md/1H.svg\": 52,\n\t\"./md/1J.svg\": 53,\n\t\"./md/1S.svg\": 54,\n\t\"./md/2B.svg\": 55,\n\t\"./md/2C.svg\": 56,\n\t\"./md/2D.svg\": 57,\n\t\"./md/2H.svg\": 58,\n\t\"./md/2J.svg\": 59,\n\t\"./md/2S.svg\": 60,\n\t\"./md/3C.svg\": 61,\n\t\"./md/3D.svg\": 62,\n\t\"./md/3H.svg\": 63,\n\t\"./md/3S.svg\": 64,\n\t\"./md/4C.svg\": 65,\n\t\"./md/4D.svg\": 66,\n\t\"./md/4H.svg\": 67,\n\t\"./md/4S.svg\": 68,\n\t\"./md/5C.svg\": 69,\n\t\"./md/5D.svg\": 70,\n\t\"./md/5H.svg\": 71,\n\t\"./md/5S.svg\": 72,\n\t\"./md/6C.svg\": 73,\n\t\"./md/6D.svg\": 74,\n\t\"./md/6H.svg\": 75,\n\t\"./md/6S.svg\": 76,\n\t\"./md/7C.svg\": 77,\n\t\"./md/7D.svg\": 78,\n\t\"./md/7H.svg\": 79,\n\t\"./md/7S.svg\": 80,\n\t\"./md/8C.svg\": 81,\n\t\"./md/8D.svg\": 82,\n\t\"./md/8H.svg\": 83,\n\t\"./md/8S.svg\": 84,\n\t\"./md/9C.svg\": 85,\n\t\"./md/9D.svg\": 86,\n\t\"./md/9H.svg\": 87,\n\t\"./md/9S.svg\": 88,\n\t\"./reload.svg\": 90,\n\t\"./star.svg\": 111,\n\t\"./trophy.svg\": 112\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 91;","module.exports = __webpack_public_path__ + \"static/media/C.c744b1ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/D.1c8fafa5.svg\";","module.exports = __webpack_public_path__ + \"static/media/H.95bb77b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/S.a27b6da8.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.9d6ee735.svg\";","module.exports = __webpack_public_path__ + \"static/media/trophy.45fe0c39.svg\";","import { PlayingCard, CardState } from \"interfaces/game\";\n\nexport enum GameActionTypes {\n  FoundationAddCards = \"game/AddToFoundationCards\",\n  TableuPileAddCards = \"game/AddToTableuPileCards\",\n  TurnCard = \"game/TurnCard\",\n  DrawCard = \"game/DrawCard\",\n  NewGame = \"game/NewGame\",\n  CardIsDragged = \"game/CardIsDragged\",\n  CardDoubleClicked = \"game/HandleDoubleClick\",\n\n}\n\ntype CardsPayload = {\n  movedCard: PlayingCard;\n  index: number;\n  nextState: CardState;\n};\n\ntype CardDoubleClickedPayload = {\n  doubleClickedCard: PlayingCard;\n};\n\ntype CardDragPayload = {\n  movedCard: PlayingCard;\n  isDragging: boolean;\n};\n\ntype TurnCardPayload = {\n  index: number;\n  id: string;\n};\n\nexport type NewGamePayload = {\n  tableuPiles: PlayingCard[][];\n  deck: PlayingCard[];\n};\n\ntype AddCardsToFoundation = {\n  readonly type: GameActionTypes.FoundationAddCards;\n  readonly payload: CardsPayload;\n};\n\ntype AddCardsToTableuPile = {\n  readonly type: GameActionTypes.TableuPileAddCards;\n  readonly payload: CardsPayload;\n};\n\nexport type TurnCard = {\n  readonly type: GameActionTypes.TurnCard;\n  readonly payload: TurnCardPayload;\n};\n\nexport type DrawCard = {\n  readonly type: GameActionTypes.DrawCard;\n};\n\n\n\nexport type StartNewGame = {\n  readonly type: GameActionTypes.NewGame;\n  readonly payload: NewGamePayload;\n};\n\ntype CardIsDragged = {\n  readonly type: GameActionTypes.CardIsDragged;\n  readonly payload: CardDragPayload;\n};\n\nexport type CardDoubleClicked = {\n  readonly type: GameActionTypes.CardDoubleClicked;\n  readonly payload: CardDoubleClickedPayload;\n};\n\nexport const addCardsToFoundation = (payload: CardsPayload): AddCardsToFoundation => ({\n  type: GameActionTypes.FoundationAddCards,\n  payload\n});\n\nexport const addCardsToTableuPile = (payload: CardsPayload): AddCardsToTableuPile => ({\n  type: GameActionTypes.TableuPileAddCards,\n  payload\n});\n\nexport const turnCard = (payload: TurnCardPayload): TurnCard => ({\n  type: GameActionTypes.TurnCard,\n  payload\n});\n\nexport const drawCard = (): DrawCard => ({ type: GameActionTypes.DrawCard });\n\nexport const startNewGame = (payload: NewGamePayload): StartNewGame => ({\n  type: GameActionTypes.NewGame,\n  payload\n});\n\nexport const cardIsDragged = (payload: CardDragPayload): CardIsDragged => ({\n  type: GameActionTypes.CardIsDragged,\n  payload\n});\n\nexport const handleDoubleClick = (payload: CardDoubleClickedPayload): CardDoubleClicked => ({\n  type: GameActionTypes.CardDoubleClicked,\n  payload\n});\n\n\n\nexport type GameActions =\n  | AddCardsToFoundation\n  | AddCardsToTableuPile\n  | TurnCard\n  | DrawCard\n  | StartNewGame\n  | CardIsDragged\n  | CardDoubleClicked\n","import CSS from \"csstype\";\n\nexport enum CardColor {\n  Red,\n  Black\n}\n\nexport interface PlayingCard {\n  id: string;\n  rank: number;\n  suit: string;\n  color: CardColor;\n  hidden: boolean;\n  index: number;\n  type: string;\n  state: CardState;\n  isDragging: boolean;\n}\n\nexport enum CardState {\n  TableuPile,\n  Deck,\n  Foundation\n}\n\nexport interface PreviewObject {\n  itemType: string;\n  item: {\n    type: string;\n    card: PlayingCard;\n  };\n  style: CSS.Properties;\n}\n\nexport interface Pile {\n  cards: PlayingCard[];\n  index: number;\n}\n\nexport interface DraggedItem {\n  type?: string;\n  card?: PlayingCard;\n}\n","import { StartNewGame } from \"./gameActions\";\n\nexport enum ScoreActionTypes {\n  GameIsOver = \"score/gameIsOver\",\n  GetScores = \"score/getScores\"\n}\n\nexport type GameIsOver = {\n  readonly type: ScoreActionTypes.GameIsOver;\n  readonly payload: number;\n};\n\nexport type GetScores = {\n  readonly type: ScoreActionTypes.GetScores;\n  readonly payload: number[];\n};\n\nexport const gameIsOver = (payload: number): GameIsOver => ({\n  type: ScoreActionTypes.GameIsOver,\n  payload\n});\n\nexport const getScores = (payload: number[]): GetScores => ({ type: ScoreActionTypes.GetScores, payload });\n\nexport type ScoreActions = StartNewGame | GameIsOver | GetScores;\n","import { PlayingCard, CardColor, CardState } from \"interfaces/game\";\nimport { NewGamePayload } from \"actions/gameActions\";\nimport { typeOfCard } from \"dragTypes\";\nimport { useState, useEffect } from \"react\";\n\nexport const createTimeString = (gameTime: number): string => {\n  const seconds = (\"0\" + (Math.floor(gameTime / 1000) % 60)).slice(-2);\n  const minutes = (\"0\" + (Math.floor(gameTime / 60000) % 60)).slice(-2);\n  const hours = Math.floor(gameTime / 3600000)\n    .toString()\n    .slice(-2);\n  return `${hours}:${minutes}:${seconds}`;\n};\n\nexport const useMedia = (query: string): boolean => {\n  const [matches, setMatches] = useState(window.matchMedia(query).matches);\n\n  useEffect(() => {\n    const media = window.matchMedia(query);\n    if (media.matches !== matches) {\n      setMatches(media.matches);\n    }\n\n    const listener = (): void => setMatches(media.matches);\n    media.addListener(listener);\n\n    return (): void => media.removeListener(listener);\n  }, [query, matches]);\n\n  return matches;\n};\n\nexport const getOffSet = (index: number, offset: number): number => {\n  return index > 0 ? index * offset : 0;\n};\n\nexport const shuffle = <T>(a: T[]): T[] => {\n  let j, x, i;\n  for (i = a.length - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1));\n    x = a[i];\n    a[i] = a[j];\n    a[j] = x;\n  }\n  return a;\n};\n\nexport const suits: string[] = [\"H\", \"D\", \"C\", \"S\"];\n\nexport const createDeck = (): PlayingCard[] => {\n  const deck: PlayingCard[] = [];\n  for (let i = 1; i < 14; i++) {\n    suits.forEach(suit => {\n      deck.push({\n        rank: i,\n        suit,\n        color: suit === \"D\" || suit === \"H\" ? CardColor.Red : CardColor.Black,\n        hidden: false,\n        id: i.toString() + suit,\n        type: typeOfCard,\n        index: 0,\n        state: CardState.TableuPile,\n        isDragging: false\n      });\n    });\n  }\n  return deck;\n};\n\nexport const createNewGame = (): NewGamePayload => {\n  const startDeck = shuffle(createDeck());\n  const tableuPiles: PlayingCard[][] = [];\n  for (let i = 1; i < 8; i++) {\n    const tempPiles = startDeck.splice(0, i);\n    tempPiles.map((card: PlayingCard, index: number) => {\n      card.index = i - 1;\n      if (index < tempPiles.length - 1) {\n        card.hidden = true;\n        return card;\n      }\n      card.hidden = false;\n      return card;\n    });\n    tableuPiles.push(tempPiles);\n  }\n  const deck = startDeck.map(card => ({ ...card, state: CardState.Deck }));\n  return { tableuPiles, deck };\n};\n","export const typeOfCard = \"CARD\";\n","import produce from \"immer\";\nimport { GameActions, GameActionTypes } from \"actions/gameActions\";\nimport { RootState } from \"store\";\nimport { CardState, PlayingCard } from \"interfaces/game\";\nimport { suits } from \"utils\";\n\ninterface GameState {\n  foundations: PlayingCard[][];\n  tableuPiles: PlayingCard[][];\n  deck: PlayingCard[];\n  waste: PlayingCard[];\n}\n\nexport const initialState: GameState = {\n  foundations: [[], [], [], []],\n  tableuPiles: [],\n  deck: [],\n  waste: []\n};\n\nexport const gameReducer = (state = initialState, action: GameActions): GameState => {\n  switch (action.type) {\n    //Add dragged card(s) to foundation and remove from source\n    case GameActionTypes.FoundationAddCards:\n      return produce(state, draft => {\n        draft.foundations[action.payload.index].push({\n          ...action.payload.movedCard,\n          state: CardState.Foundation,\n          index: action.payload.index,\n          isDragging: false\n        });\n\n        if (action.payload.movedCard.state === CardState.Deck) {\n          draft.waste = draft.waste.filter(card => card.id !== action.payload.movedCard.id);\n        } else {\n          draft.tableuPiles[action.payload.movedCard.index] = draft.tableuPiles[action.payload.movedCard.index].filter(\n            card => card.id !== action.payload.movedCard.id\n          );\n        }\n      });\n    //Add dragged card(s) to tableuPile and remove from source\n    case GameActionTypes.TableuPileAddCards:\n      return produce(state, draft => {\n        if (action.payload.movedCard.state === CardState.TableuPile) {\n          const indexOfCard = draft.tableuPiles[action.payload.movedCard.index].findIndex(\n            card => card.id === action.payload.movedCard.id\n          );\n          const cardsToAdd = draft.tableuPiles[action.payload.movedCard.index]\n            .slice(indexOfCard)\n            .map(card => ({ ...card, index: action.payload.index, isDragging: false }));\n          const cardsLeft = draft.tableuPiles[action.payload.movedCard.index].slice(0, indexOfCard);\n          draft.tableuPiles[action.payload.index] = [...draft.tableuPiles[action.payload.index], ...cardsToAdd];\n          draft.tableuPiles[action.payload.movedCard.index] = cardsLeft;\n        } else {\n          draft.tableuPiles[action.payload.index].push({\n            ...action.payload.movedCard,\n            state: CardState.TableuPile,\n            index: action.payload.index,\n            isDragging: false\n          });\n\n          if (action.payload.movedCard.state === CardState.Deck) {\n            draft.waste = draft.waste.filter(card => card.id !== action.payload.movedCard.id);\n          } else {\n            draft.foundations[action.payload.movedCard.index] = draft.foundations[\n              action.payload.movedCard.index\n            ].filter(card => card.id !== action.payload.movedCard.id);\n          }\n        }\n      });\n\n    case GameActionTypes.TurnCard:\n      return produce(state, draft => {\n        draft.tableuPiles[action.payload.index].map((card, i) => {\n          if (card.id === action.payload.id && i === draft.tableuPiles[action.payload.index].length - 1) {\n            card.hidden = false;\n            return card;\n          }\n          return card;\n        });\n      });\n\n    case GameActionTypes.DrawCard:\n      return produce(state, draft => {\n        if (draft.deck.length) {\n          draft.waste.push(draft.deck.splice(0, 1)[0]);\n        } else {\n          draft.deck = [...draft.waste];\n          draft.waste = [];\n        }\n      });\n\n    case GameActionTypes.NewGame:\n      return produce(state, draft => {\n        draft.tableuPiles = action.payload.tableuPiles;\n        draft.deck = action.payload.deck;\n        draft.waste = [];\n        draft.foundations = [[], [], [], []];\n      });\n\n    // Set isDragging to true if card is being dragged to hide it from view\n    case GameActionTypes.CardIsDragged:\n      return produce(state, draft => {\n        switch (action.payload.movedCard.state) {\n          case CardState.Deck:\n            draft.waste = draft.waste.map(card =>\n              card.id === action.payload.movedCard.id ? { ...card, isDragging: action.payload.isDragging } : { ...card }\n            );\n            break;\n\n          case CardState.Foundation:\n            draft.foundations[action.payload.movedCard.index] = draft.foundations[\n              action.payload.movedCard.index\n            ].map(card =>\n              card.id === action.payload.movedCard.id ? { ...card, isDragging: action.payload.isDragging } : { ...card }\n            );\n            break;\n\n          case CardState.TableuPile:\n            const indexOfCard = draft.tableuPiles[action.payload.movedCard.index].findIndex(\n              card => card.id === action.payload.movedCard.id\n            );\n            draft.tableuPiles[action.payload.movedCard.index] = draft.tableuPiles[\n              action.payload.movedCard.index\n            ].map((card, index) =>\n              index >= indexOfCard ? { ...card, isDragging: action.payload.isDragging } : { ...card }\n            );\n            break;\n        }\n      });\n    case GameActionTypes.CardDoubleClicked:\n      return produce(state, draft => {\n        const suitIndex = suits.indexOf(action.payload.doubleClickedCard.suit);\n\n        if (draft.foundations[suitIndex].length + 1 === action.payload.doubleClickedCard.rank) {\n          draft.foundations[suitIndex].push({\n            ...action.payload.doubleClickedCard,\n            index: suitIndex,\n            state: CardState.Foundation\n          });\n\n          if (action.payload.doubleClickedCard.state === CardState.TableuPile) {\n            draft.tableuPiles[action.payload.doubleClickedCard.index] = draft.tableuPiles[\n              action.payload.doubleClickedCard.index\n            ].slice(0, -1);\n          } else if (action.payload.doubleClickedCard.state === CardState.Deck) {\n            draft.waste = draft.waste.slice(0, -1);\n          }\n        }\n      });\n    default:\n      return state;\n  }\n};\n\nexport const selectWaste = (state: RootState): PlayingCard[] => state.game.present.waste;\nexport const selectDeck = (state: RootState): PlayingCard[] => state.game.present.deck;\nexport const selectFoundations = (state: RootState): PlayingCard[][] => state.game.present.foundations;\nexport const selectTableuPiles = (state: RootState): PlayingCard[][] => state.game.present.tableuPiles;\nexport const selectNextFoundationCards = (state: RootState): string[] => {\n  return state.game.present.foundations.map((foundation, index) => `${foundation.length + 1}${suits[index]}`);\n};\n","import React, { memo, useEffect } from \"react\";\nimport { useDrag, DragSourceMonitor } from \"react-dnd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addCardsToTableuPile,\n  addCardsToFoundation,\n  turnCard,\n  TurnCard,\n  cardIsDragged,\n  handleDoubleClick\n} from \"actions/gameActions\";\nimport { PlayingCard, CardState } from \"interfaces/game\";\n\nimport { selectNextFoundationCards } from \"reducers/gameReducer\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { Dispatch } from \"redux\";\n\ninterface CardProps {\n  offset?: number;\n  card: PlayingCard;\n  isLastCard: boolean;\n}\n\n\n\nconst checkDoubleClick = (card: PlayingCard, nextFoundationCards: string[], dispatch: Dispatch): void => {\n  if (nextFoundationCards.find(nextCard => nextCard === card.id)) {\n    dispatch(handleDoubleClick({ doubleClickedCard: card }));\n\n  }\n};\n\nexport const Card = memo(\n  ({ card, offset, isLastCard }: CardProps): JSX.Element => {\n    const { hidden, id, index, type } = card;\n    const dispatch = useDispatch();\n    const nextFoundationCards = useSelector(selectNextFoundationCards);\n    const [{ isDragging, item }, drag, preview] = useDrag({\n      item: { type, card },\n      end: (item: { type: string; card: PlayingCard } | undefined, monitor: DragSourceMonitor) => {\n        const dropResult = monitor.getDropResult();\n        if (item && dropResult) {\n          const nextState = dropResult.nextState;\n          if (nextState === CardState.TableuPile) {\n            dispatch(addCardsToTableuPile({ movedCard: item.card, index: dropResult.index, nextState }));\n          } else if (nextState === CardState.Foundation) {\n            dispatch(addCardsToFoundation({ movedCard: item.card, index: dropResult.index, nextState }));\n          }\n        }\n        if (item && !dropResult) {\n          dispatch(cardIsDragged({ movedCard: item.card, isDragging: false }));\n        }\n      },\n      collect: monitor => ({\n        isDragging: monitor.isDragging(),\n        item: monitor.getItem()\n      }),\n      canDrag: () => (card.hidden ? false : true)\n    });\n\n    useEffect(() => {\n      if (item && item.card && isDragging) {\n        dispatch(cardIsDragged({ movedCard: item.card, isDragging }));\n      }\n    }, [isDragging, item, dispatch]);\n\n    useEffect(() => {\n      preview(getEmptyImage(), { captureDraggingState: false });\n    }, [preview]);\n\n    return (\n      <img\n        alt={card.id}\n        ref={card.hidden ? null : drag}\n        className=\"card\"\n        src={hidden ? require(`../assets/md/1B.svg`) : require(`../assets/md/${id}.svg`)}\n        style={{ top: offset, display: card.isDragging ? \"none\" : undefined }}\n        onClick={hidden ? (): TurnCard => dispatch(turnCard({ index, id })) : undefined}\n        onDoubleClick={isLastCard ? (): void => checkDoubleClick(card, nextFoundationCards, dispatch) : undefined}\n        onDragStart={(e): void => {\n          if (card.hidden) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }}\n      />\n    );\n  }\n);\n\nexport default Card;\n","import React, { useCallback } from \"react\";\nimport Card from \"./Card\";\nimport { useDrop } from \"react-dnd\";\nimport { PlayingCard, CardState, DraggedItem, Pile } from \"interfaces/game\";\nimport { getOffSet, useMedia } from \"utils\";\nimport { typeOfCard } from \"dragTypes\";\n\nconst getDroppable = (item: DraggedItem, cards: PlayingCard[]): boolean => {\n  if (cards.length === 0 && item && item.card && item.card.rank === 13) {\n    return true;\n  } else if (cards.length === 0) {\n    return false;\n  } else if (\n    item &&\n    item.card &&\n    item.card.rank === cards[cards.length - 1].rank - 1 &&\n    item.card.color !== cards[cards.length - 1].color\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const TableuPile = ({ cards, index }: Pile): JSX.Element => {\n  const nextState = CardState.TableuPile;\n  // eslint-disable-next-line\n  const [{ canDrop, isOver }, drop] = useDrop({\n    accept: typeOfCard,\n    canDrop: (item: any) => getDroppable(item, cards),\n    drop: () => ({ index, nextState }),\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n\n  const xs = useMedia(\"(max-width: 525px)\");\n  const sm = useMedia(\"(max-width: 710px)\");\n  const md = useMedia(\"(max-width: 940px)\");\n\n  const getOffsetByMedia = useCallback((): number => {\n    if (xs) {\n      return 15;\n    } else if (sm) {\n      return 21;\n    } else if (md) {\n      return 27;\n    } else return 33;\n  }, [xs, sm, md]);\n\n  return (\n    <div ref={drop} className=\"drop-target\">\n      <div className=\"card-border\">\n        {cards.map((card: PlayingCard, i: number) => (\n          <Card\n            offset={getOffSet(i, getOffsetByMedia())}\n            key={card.id}\n            card={card}\n            isLastCard={i === cards.length - 1 ? true : false}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Card } from \"./Card\";\nimport { useSelector } from \"react-redux\";\nimport { selectWaste } from \"reducers/gameReducer\";\nimport { RootState } from \"store\";\nimport { PlayingCard } from \"interfaces/game\";\n\nexport const Talon = (): JSX.Element => {\n  const waste = useSelector<RootState, PlayingCard[]>(selectWaste);\n  return (\n    <div className=\"talon-foundation drop-target talon\">\n      {waste.length > 0 &&\n        waste.map((card, i) => <Card key={card.id} card={card} isLastCard={i === waste.length - 1} />)}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Talon } from \"./Talon\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { drawCard, DrawCard } from \"actions/gameActions\";\nimport { selectDeck } from \"reducers/gameReducer\";\n\nexport const Stock = (): JSX.Element => {\n  const deck = useSelector(selectDeck);\n  const dispatch = useDispatch();\n  return (\n    <div style={{ display: \"flex\" }}>\n      {deck.length > 0 ? (\n        <picture>\n          <img\n            alt=\"deck\"\n            src={deck.length > 1 ? require(`../assets/deck.svg`) : require(`../assets/md/1B.svg`)}\n            onClick={(): DrawCard => dispatch(drawCard())}\n            className=\"drop-target\"\n            onDragStart={(e): void => {\n              e.preventDefault();\n              e.stopPropagation();\n            }}\n          />\n        </picture>\n      ) : (\n        <div className=\"drop-target\" onClick={(): DrawCard => dispatch(drawCard())}>\n          <div className=\"card-border\">\n            <img\n              alt=\"deck\"\n              src={require(`../assets/reload.svg`)}\n              style={{ alignSelf: \"center\" }}\n              width=\"60px\"\n              height=\"60px\"\n              onDragStart={(e): void => {\n                e.preventDefault();\n                e.stopPropagation();\n              }}\n            />\n          </div>\n        </div>\n      )}\n      <Talon />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { Card } from \"./Card\";\nimport { PlayingCard, CardState } from \"interfaces/game\";\nimport { useSelector } from \"react-redux\";\nimport { selectTableuPiles } from \"reducers/gameReducer\";\nimport { RootState } from \"store\";\nimport { typeOfCard } from \"dragTypes\";\n\ninterface DraggedItem {\n  type: string;\n  card: PlayingCard;\n}\n\ninterface FoundationProps {\n  cards: PlayingCard[];\n  index: number;\n  foundationSuit: string;\n  nextCard: number;\n}\n\nconst getDroppable = (\n  item: DraggedItem,\n  nextCard: number,\n  foundationSuit: string,\n  tableuPile: PlayingCard[]\n): boolean => {\n  const id = item.card?.id;\n  if (item && item.card && item.card.state === CardState.TableuPile) {\n    if (item.card.id !== tableuPile[tableuPile.length - 1].id) {\n      return false;\n    }\n  }\n  if (id === `${nextCard}${foundationSuit}`) {\n    return true;\n  }\n  return false;\n};\n\nexport const Foundation = ({ cards, index, foundationSuit, nextCard }: FoundationProps): JSX.Element => {\n  const nextState = CardState.Foundation;\n  const tableuPiles = useSelector<RootState, PlayingCard[][]>(selectTableuPiles);\n  // eslint-disable-next-line\n  const [{ canDrop, isOver }, drop] = useDrop({\n    accept: typeOfCard,\n    canDrop: (item: DraggedItem) => getDroppable(item, nextCard, foundationSuit, tableuPiles[item.card.index]),\n    drop: () => ({\n      index,\n      nextState\n    }),\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n\n  return (\n    <div ref={drop} className=\"drop-target unselectable talon-foundation\">\n      <div className=\"card-border\">\n        <img\n          alt=\"foundation\"\n          src={require(`../assets/${foundationSuit}.svg`)}\n          className=\"foundation-suit unselectable\"\n          onDragStart={(e): void => {\n            e.preventDefault();\n            e.stopPropagation();\n          }}\n          width=\"30px\"\n        />\n        {cards.map((card: PlayingCard, i: number) => (\n          <Card offset={0} key={card.id} card={card} isLastCard={i === cards.length - 1 ? true : false} />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo, useState, memo, useCallback } from \"react\";\nimport Preview from \"react-dnd-preview\";\nimport { PreviewObject, CardState, PlayingCard } from \"interfaces/game\";\nimport { getOffSet, useMedia } from \"utils\";\n\nconst createPreviewCards = (draggedCard: PlayingCard | null, tableuPiles: PlayingCard[][]): PlayingCard[] => {\n  if (draggedCard) {\n    const indexOfCard = tableuPiles[draggedCard.index].findIndex(card => card.id === draggedCard.id);\n    return tableuPiles[draggedCard.index].filter((card, index) => index >= indexOfCard);\n  }\n  return [];\n};\n\ninterface CardDragPreviewProps {\n  tableuPiles: PlayingCard[][];\n}\n\n// eslint-disable-next-line react/display-name\nexport const CardDragPreview = memo(\n  ({ tableuPiles }: CardDragPreviewProps): JSX.Element => {\n    const [draggedCard, setDraggedCard] = useState<PlayingCard | null>(null);\n    const memoizedPreview = useMemo(() => createPreviewCards(draggedCard, tableuPiles), [draggedCard, tableuPiles]);\n\n    const xs = useMedia(\"(max-width: 525px)\");\n    const sm = useMedia(\"(max-width: 710px)\");\n    const md = useMedia(\"(max-width: 940px)\");\n\n    const getOffsetByMedia = useCallback((): number => {\n      if (xs) {\n        return 15;\n      } else if (sm) {\n        return 21;\n      } else if (md) {\n        return 27;\n      } else return 33;\n    }, [xs, sm, md]);\n\n    const generatePreview = ({ itemType, item, style }: PreviewObject): JSX.Element => {\n      if (item && item.card) {\n        setDraggedCard(item.card);\n      }\n      if (item && item.card.state === CardState.TableuPile) {\n        return (\n          <div style={{ ...style, zIndex: 50 }}>\n            {memoizedPreview.map((card, i) => (\n              <img\n                alt={item.card.id}\n                key={card.id}\n                className=\"card\"\n                src={require(`../assets/md/${card.id}.svg`)}\n                style={{ top: getOffSet(i, getOffsetByMedia()) }}\n              />\n            ))}\n          </div>\n        );\n      }\n      return (\n        <img\n          alt={item.card.id}\n          className=\"card\"\n          src={require(`../assets/md/${item.card.id}.svg`)}\n          style={{ ...style, top: getOffSet(0, getOffsetByMedia()), zIndex: 50 }}\n        />\n      );\n    };\n\n    return <Preview generator={generatePreview} />;\n  }\n);\n","export enum HistoryActionTypes {\n  ClearHistory = \"history/ClearHistory\"\n}\n\nexport type ClearHistory = {\n  readonly type: HistoryActionTypes.ClearHistory;\n};\n\nexport const clearHistory = (): ClearHistory => ({\n  type: HistoryActionTypes.ClearHistory\n});\n\nexport type HistoryActions = ClearHistory;\n","import { ScoreActions, ScoreActionTypes } from \"actions/scoreActions\";\nimport { GameActionTypes } from \"actions/gameActions\";\nimport produce from \"immer\";\nimport { RootState } from \"store\";\nimport { createTimeString } from \"utils\";\n\ninterface ScoreState {\n  startTime: number;\n  isGameOver: boolean;\n  scores: number[];\n  gameWonTime: number | null;\n}\n\nexport const initialState: ScoreState = {\n  startTime: 0,\n  isGameOver: false,\n  scores: [],\n  gameWonTime: null\n};\n\nexport const scoreReducer = (state = initialState, action: ScoreActions): ScoreState => {\n  switch (action.type) {\n    case GameActionTypes.NewGame:\n      return produce(state, draft => {\n        draft.startTime = Date.now();\n        draft.isGameOver = false;\n      });\n    case ScoreActionTypes.GetScores:\n      return produce(state, draft => {\n        draft.scores = [...action.payload];\n      });\n    case ScoreActionTypes.GameIsOver:\n      return produce(state, draft => {\n        draft.isGameOver = true;\n        draft.scores?.push(action.payload);\n        draft.gameWonTime = action.payload;\n      });\n    default:\n      return state;\n  }\n};\n\nexport const selectIsGameOver = (state: RootState): boolean => state.score.isGameOver;\nexport const selectGameWonTime = (state: RootState): string | undefined => {\n  const gameWonTime = state.score.gameWonTime;\n  if (gameWonTime) {\n    return createTimeString(gameWonTime);\n  }\n};\nexport const selectStartTime = (state: RootState): number => state.score.startTime;\nexport const selectScores = (state: RootState): string[] | undefined | null => {\n  const scores = state.score.scores;\n  if (scores?.length) {\n    const newScores = [...scores];\n    return newScores\n      ?.slice(0, 10)\n      .sort((a: number, b: number) => a - b)\n      .map(score => createTimeString(score));\n  }\n  return null;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectNextFoundationCards } from \"reducers/gameReducer\";\nimport { suits, createTimeString } from \"utils\";\nimport { selectStartTime, selectIsGameOver } from \"reducers/scoreReducer\";\nimport { gameIsOver } from \"actions/scoreActions\";\n\nexport const Timer = (): JSX.Element => {\n  const dispatch = useDispatch();\n  const startTime = useSelector(selectStartTime);\n  const isGameOver = useSelector(selectIsGameOver);\n  const [gameTime, setGameTime] = useState<number>(0);\n  const nextFoundationCards = useSelector(selectNextFoundationCards);\n\n  useEffect(() => {\n    if (!isGameOver) {\n      setGameTime(0);\n      const interval = setInterval(() => setGameTime(Date.now() - startTime), 1000);\n      return (): void => {\n        clearInterval(interval);\n      };\n    }\n  }, [startTime, isGameOver]);\n\n  useEffect(() => {\n    if (!isGameOver && nextFoundationCards.every((nextCard, i) => nextCard === `14${suits[i]}`)) {\n      const scores = JSON.parse(localStorage.getItem(\"scores\") || \"{}\") as number[];\n      if (scores && scores.length > 0) {\n        scores.push(gameTime);\n        localStorage.setItem(\"scores\", JSON.stringify(scores));\n      } else {\n        const scores: number[] = [gameTime];\n        localStorage.setItem(\"scores\", JSON.stringify(scores));\n      }\n      dispatch(gameIsOver(gameTime));\n    }\n  }, [nextFoundationCards, dispatch, gameTime, isGameOver]);\n\n  return (\n    <div className=\"timer-container\">\n      <p className=\"timer\">{createTimeString(gameTime)}</p>\n    </div>\n  );\n};\n","import React from \"react\";\n\ninterface GameButtonProps {\n  handleClick: Function;\n  icon: string;\n  text: string;\n}\n\nexport const GameButton = ({ icon, handleClick, text }: GameButtonProps): JSX.Element => {\n  return (\n    <button className=\"game-button\" onClick={(): void => handleClick()}>\n      <div className=\"button-wrapper\">\n        <img className=\"svg-icon\" src={require(`../assets/${icon}.svg`)} alt={icon} />\n        <span className=\"button-text\">{text}</span>\n      </div>\n    </button>\n  );\n};\n","import React from \"react\";\nimport \"../modal.css\";\n\ninterface ModalProps {\n  onClose: Function;\n  showModal: boolean;\n  children: React.ReactNode;\n  header: string;\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  onClose,\n  showModal,\n  header,\n  children\n}: ModalProps): JSX.Element | null => {\n  if (!showModal) {\n    return null;\n  }\n  return (\n    <div className=\"modal\" id=\"modal\">\n      <h2>{header}</h2>\n      <div className=\"content\">{children}</div>\n      <div className=\"actions\">\n        <button className=\"toggle-button\" onClick={(): void => onClose()}>\n          close\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { TableuPile } from \"components/TableuPile\";\nimport { Stock } from \"components/Stock\";\nimport { Foundation } from \"components/Foundation\";\nimport { selectTableuPiles, selectFoundations } from \"reducers/gameReducer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startNewGame, GameActions } from \"actions/gameActions\";\nimport { PlayingCard } from \"interfaces/game\";\nimport { suits, createNewGame } from \"utils\";\nimport { RootState } from \"store\";\nimport { CardDragPreview } from \"components/CardDragPreview\";\nimport { Dispatch } from \"redux\";\nimport { Timer } from \"components/Timer\";\nimport { GameButton } from \"components/GameButton\";\nimport { getScores, ScoreActions } from \"actions/scoreActions\";\nimport { Modal } from \"components/Modal\";\nimport { selectScores, selectIsGameOver, selectGameWonTime } from \"reducers/scoreReducer\";\nimport { clearHistory, HistoryActions } from \"actions/historyActions\";\n\nconst Game = (): JSX.Element => {\n  const [showScores, setShowScores] = useState(false);\n  const dispatch = useDispatch<Dispatch<GameActions | ScoreActions | HistoryActions>>();\n  const tableuPiles = useSelector<RootState, PlayingCard[][]>(selectTableuPiles);\n  const foundations = useSelector<RootState, PlayingCard[][]>(selectFoundations);\n  const gameWonTime = useSelector<RootState, string | undefined>(selectGameWonTime);\n  const isGameOver = useSelector<RootState, boolean>(selectIsGameOver);\n  const scores = useSelector<RootState, string[] | null | undefined>(selectScores);\n\n  useEffect(() => {\n    const { tableuPiles, deck } = createNewGame();\n    dispatch(startNewGame({ tableuPiles, deck }));\n  }, [dispatch]);\n\n  useEffect(() => {\n    const scores = JSON.parse(localStorage.getItem(\"scores\") || \"{}\") as number[];\n    if (scores && scores.length > 0) {\n      dispatch(getScores(scores));\n    }\n  }, [dispatch]);\n\n\n  const handleStartNewGame = (): void => {\n    const { tableuPiles, deck } = createNewGame();\n    dispatch(clearHistory());\n    dispatch(startNewGame({ tableuPiles, deck }));\n  };\n\n  const handleScores = (): void => {\n    setShowScores(showScores => !showScores);\n  };\n\n  return (\n    <>\n      <Modal showModal={isGameOver} onClose={handleStartNewGame} header=\"Game Won!\">\n        <p>Yay you won!</p>\n        <h4>Your time: {gameWonTime}</h4>\n      </Modal>\n      <Modal showModal={showScores} onClose={handleScores} header=\"High Scores\">\n        {scores && scores.length > 0\n          ? scores.map((score, i) => (\n            <p key={score} className=\"score\">\n              {i + 1}. {score}\n            </p>\n          ))\n          : \"Try to finish a game first!\"}\n      </Modal>\n      <CardDragPreview tableuPiles={tableuPiles} />\n      <div className=\"container\">\n        <div className=\"top-wrapper\">\n          <div className=\"widgets\">\n            <Timer />\n            <div className=\"button-container\">\n              <GameButton icon=\"star\" handleClick={handleStartNewGame} text=\"NEW\" />\n              <GameButton icon=\"trophy\" handleClick={handleScores} text=\"SCORES\" />\n            </div>\n          </div>\n          <div className=\"top-right-wrapper\">\n            <Stock />\n            <div className=\"foundations\">\n              {foundations.length &&\n                foundations.map((foundation, i) => (\n                  <Foundation\n                    key={i.toString()}\n                    cards={foundation}\n                    index={i}\n                    foundationSuit={suits[i]}\n                    nextCard={foundation.length + 1}\n                  />\n                ))}\n            </div>\n          </div>\n        </div>\n        <div className=\"tableu-piles\">\n          {tableuPiles.map((pile, i) => (\n            <TableuPile cards={pile} key={i.toString()} index={i} />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Game;\n","import React from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport TouchBackend from \"react-dnd-touch-backend\";\nimport Game from \"views/Game\";\nimport MultiBackend, { TouchTransition, MouseTransition } from \"react-dnd-multi-backend\";\n\nconst CustomHTML5toTouch = {\n  backends: [\n    {\n      backend: HTML5Backend,\n      transition: MouseTransition\n    },\n    {\n      backend: TouchBackend,\n      options: { enableMouseEvents: true },\n      transition: TouchTransition,\n\n      skipDispatchOnTransition: true\n    }\n  ]\n};\n\nconst App: React.FC = () => {\n  return (\n    <DndProvider backend={MultiBackend} options={CustomHTML5toTouch}>\n      <Game />\n    </DndProvider>\n  );\n};\n\nexport default App;\n","\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === \"[::1]\" ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n            \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\nimport { gameReducer } from \"reducers/gameReducer\";\nimport undoable, { excludeAction } from \"redux-undo\";\nimport { GameActionTypes } from \"actions/gameActions\";\nimport { scoreReducer } from \"reducers/scoreReducer\";\nimport { HistoryActionTypes } from \"actions/historyActions\";\n\nexport const rootReducer = combineReducers({\n  game: undoable(gameReducer, {\n    ignoreInitialState: true,\n    clearHistoryType: HistoryActionTypes.ClearHistory,\n    filter: excludeAction([GameActionTypes.CardIsDragged, GameActionTypes.NewGame])\n  }),\n  score: scoreReducer\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport { rootReducer } from \"store\";\n\nconst store = createStore(\n  rootReducer,\n  (window as any).__REDUX_DEVTOOLS_EXTENSION__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}