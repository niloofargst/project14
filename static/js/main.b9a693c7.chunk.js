(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/1B.8ed7ee37.svg"},,,,,,,,function(e,t,a){var n={"./10C.svg":34,"./10D.svg":35,"./10H.svg":36,"./10S.svg":37,"./11C.svg":38,"./11D.svg":39,"./11H.svg":40,"./11S.svg":41,"./12C.svg":42,"./12D.svg":43,"./12H.svg":44,"./12S.svg":45,"./13C.svg":46,"./13D.svg":47,"./13H.svg":48,"./13S.svg":49,"./1B.svg":17,"./1C.svg":50,"./1D.svg":51,"./1H.svg":52,"./1J.svg":53,"./1S.svg":54,"./2B.svg":55,"./2C.svg":56,"./2D.svg":57,"./2H.svg":58,"./2J.svg":59,"./2S.svg":60,"./3C.svg":61,"./3D.svg":62,"./3H.svg":63,"./3S.svg":64,"./4C.svg":65,"./4D.svg":66,"./4H.svg":67,"./4S.svg":68,"./5C.svg":69,"./5D.svg":70,"./5H.svg":71,"./5S.svg":72,"./6C.svg":73,"./6D.svg":74,"./6H.svg":75,"./6S.svg":76,"./7C.svg":77,"./7D.svg":78,"./7H.svg":79,"./7S.svg":80,"./8C.svg":81,"./8D.svg":82,"./8H.svg":83,"./8S.svg":84,"./9C.svg":85,"./9D.svg":86,"./9H.svg":87,"./9S.svg":88};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=25},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/10C.6f21370e.svg"},function(e,t,a){e.exports=a.p+"static/media/10D.7ceafc84.svg"},function(e,t,a){e.exports=a.p+"static/media/10H.89867cee.svg"},function(e,t,a){e.exports=a.p+"static/media/10S.1550b4f9.svg"},function(e,t,a){e.exports=a.p+"static/media/11C.ef15f429.svg"},function(e,t,a){e.exports=a.p+"static/media/11D.9aa6eb63.svg"},function(e,t,a){e.exports=a.p+"static/media/11H.32794f92.svg"},function(e,t,a){e.exports=a.p+"static/media/11S.eba69461.svg"},function(e,t,a){e.exports=a.p+"static/media/12C.dd25d112.svg"},function(e,t,a){e.exports=a.p+"static/media/12D.a93fdc29.svg"},function(e,t,a){e.exports=a.p+"static/media/12H.1461aa67.svg"},function(e,t,a){e.exports=a.p+"static/media/12S.9e8a4716.svg"},function(e,t,a){e.exports=a.p+"static/media/13C.9494424e.svg"},function(e,t,a){e.exports=a.p+"static/media/13D.4acf89aa.svg"},function(e,t,a){e.exports=a.p+"static/media/13H.8cffbf35.svg"},function(e,t,a){e.exports=a.p+"static/media/13S.6f0599b7.svg"},function(e,t,a){e.exports=a.p+"static/media/1C.6aacad9c.svg"},function(e,t,a){e.exports=a.p+"static/media/1D.9686e6df.svg"},function(e,t,a){e.exports=a.p+"static/media/1H.91872e9b.svg"},function(e,t,a){e.exports=a.p+"static/media/1J.cf084cf9.svg"},function(e,t,a){e.exports=a.p+"static/media/1S.5294b074.svg"},function(e,t,a){e.exports=a.p+"static/media/2B.d2e31092.svg"},function(e,t,a){e.exports=a.p+"static/media/2C.3e6e0c66.svg"},function(e,t,a){e.exports=a.p+"static/media/2D.9f149c8c.svg"},function(e,t,a){e.exports=a.p+"static/media/2H.5206b48b.svg"},function(e,t,a){e.exports=a.p+"static/media/2J.3d309d61.svg"},function(e,t,a){e.exports=a.p+"static/media/2S.2a7e3921.svg"},function(e,t,a){e.exports=a.p+"static/media/3C.bbbd7c30.svg"},function(e,t,a){e.exports=a.p+"static/media/3D.2ff9d4f1.svg"},function(e,t,a){e.exports=a.p+"static/media/3H.5ab63ab8.svg"},function(e,t,a){e.exports=a.p+"static/media/3S.56efdc49.svg"},function(e,t,a){e.exports=a.p+"static/media/4C.c7bf4066.svg"},function(e,t,a){e.exports=a.p+"static/media/4D.aeb85002.svg"},function(e,t,a){e.exports=a.p+"static/media/4H.c0c6312b.svg"},function(e,t,a){e.exports=a.p+"static/media/4S.51bbaefb.svg"},function(e,t,a){e.exports=a.p+"static/media/5C.8ac11786.svg"},function(e,t,a){e.exports=a.p+"static/media/5D.6a2b4aa2.svg"},function(e,t,a){e.exports=a.p+"static/media/5H.a618a114.svg"},function(e,t,a){e.exports=a.p+"static/media/5S.943dcc0d.svg"},function(e,t,a){e.exports=a.p+"static/media/6C.47a22254.svg"},function(e,t,a){e.exports=a.p+"static/media/6D.2254d6e2.svg"},function(e,t,a){e.exports=a.p+"static/media/6H.87303a03.svg"},function(e,t,a){e.exports=a.p+"static/media/6S.93574444.svg"},function(e,t,a){e.exports=a.p+"static/media/7C.196b8892.svg"},function(e,t,a){e.exports=a.p+"static/media/7D.23307ca6.svg"},function(e,t,a){e.exports=a.p+"static/media/7H.0fe0cb4c.svg"},function(e,t,a){e.exports=a.p+"static/media/7S.a7553e2f.svg"},function(e,t,a){e.exports=a.p+"static/media/8C.20282acf.svg"},function(e,t,a){e.exports=a.p+"static/media/8D.bce185a8.svg"},function(e,t,a){e.exports=a.p+"static/media/8H.09333202.svg"},function(e,t,a){e.exports=a.p+"static/media/8S.edb5ecd6.svg"},function(e,t,a){e.exports=a.p+"static/media/9C.e16d75d8.svg"},function(e,t,a){e.exports=a.p+"static/media/9D.92fe2b5a.svg"},function(e,t,a){e.exports=a.p+"static/media/9H.80019c80.svg"},function(e,t,a){e.exports=a.p+"static/media/9S.0a453357.svg"},function(e,t,a){e.exports=a.p+"static/media/deck.5f3a43f2.svg"},function(e,t,a){e.exports=a.p+"static/media/reload.465f344e.svg"},function(e,t,a){var n={"./C.svg":107,"./D.svg":108,"./H.svg":109,"./S.svg":110,"./deck.svg":89,"./md/10C.svg":34,"./md/10D.svg":35,"./md/10H.svg":36,"./md/10S.svg":37,"./md/11C.svg":38,"./md/11D.svg":39,"./md/11H.svg":40,"./md/11S.svg":41,"./md/12C.svg":42,"./md/12D.svg":43,"./md/12H.svg":44,"./md/12S.svg":45,"./md/13C.svg":46,"./md/13D.svg":47,"./md/13H.svg":48,"./md/13S.svg":49,"./md/1B.svg":17,"./md/1C.svg":50,"./md/1D.svg":51,"./md/1H.svg":52,"./md/1J.svg":53,"./md/1S.svg":54,"./md/2B.svg":55,"./md/2C.svg":56,"./md/2D.svg":57,"./md/2H.svg":58,"./md/2J.svg":59,"./md/2S.svg":60,"./md/3C.svg":61,"./md/3D.svg":62,"./md/3H.svg":63,"./md/3S.svg":64,"./md/4C.svg":65,"./md/4D.svg":66,"./md/4H.svg":67,"./md/4S.svg":68,"./md/5C.svg":69,"./md/5D.svg":70,"./md/5H.svg":71,"./md/5S.svg":72,"./md/6C.svg":73,"./md/6D.svg":74,"./md/6H.svg":75,"./md/6S.svg":76,"./md/7C.svg":77,"./md/7D.svg":78,"./md/7H.svg":79,"./md/7S.svg":80,"./md/8C.svg":81,"./md/8D.svg":82,"./md/8H.svg":83,"./md/8S.svg":84,"./md/9C.svg":85,"./md/9D.svg":86,"./md/9H.svg":87,"./md/9S.svg":88,"./reload.svg":90,"./star.svg":111,"./trophy.svg":112};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=91},,,,,function(e,t,a){e.exports=a(116)},,,,,function(e,t,a){},,,,,,function(e,t,a){e.exports=a.p+"static/media/C.c744b1ed.svg"},function(e,t,a){e.exports=a.p+"static/media/D.1c8fafa5.svg"},function(e,t,a){e.exports=a.p+"static/media/H.95bb77b1.svg"},function(e,t,a){e.exports=a.p+"static/media/S.a27b6da8.svg"},function(e,t,a){e.exports=a.p+"static/media/star.9d6ee735.svg"},function(e,t,a){e.exports=a.p+"static/media/trophy.45fe0c39.svg"},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(18),s=a.n(c),o=(a(101),a(118)),d=a(27),u=a(95),l=a(4),g=a(119),m=a(2);!function(e){e.FoundationAddCards="game/AddToFoundationCards",e.TableuPileAddCards="game/AddToTableuPileCards",e.TurnCard="game/TurnCard",e.DrawCard="game/DrawCard",e.NewGame="game/NewGame",e.CardIsDragged="game/CardIsDragged",e.CardDoubleClicked="game/HandleDoubleClick"}(n||(n={}));var v,p,f=function(){return{type:n.DrawCard}},b=function(e){return{type:n.NewGame,payload:e}},C=function(e){return{type:n.CardIsDragged,payload:e}};!function(e){e[e.Red=0]="Red",e[e.Black=1]="Black"}(v||(v={})),function(e){e[e.TableuPile=0]="TableuPile",e[e.Deck=1]="Deck",e[e.Foundation=2]="Foundation"}(p||(p={}));var x,y=a(12),D=a(3),O=a(7),h=function(e){var t=("0"+Math.floor(e/1e3)%60).slice(-2),a=("0"+Math.floor(e/6e4)%60).slice(-2),n=Math.floor(e/36e5).toString().slice(-2);return"".concat(n,":").concat(a,":").concat(t)},S=function(e){var t=Object(r.useState)(window.matchMedia(e).matches),a=Object(l.a)(t,2),n=a[0],i=a[1];return Object(r.useEffect)((function(){var t=window.matchMedia(e);t.matches!==n&&i(t.matches);var a=function(){return i(t.matches)};return t.addListener(a),function(){return t.removeListener(a)}}),[e,n]),n},E=function(e,t){return e>0?e*t:0},j=["H","D","C","S"],k=function(){for(var e=function(e){var t,a,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e}(function(){for(var e=[],t=function(t){j.forEach((function(a){e.push({rank:t,suit:a,color:"D"===a||"H"===a?v.Red:v.Black,hidden:!1,id:t.toString()+a,type:"CARD",index:0,state:p.TableuPile,isDragging:!1})}))},a=1;a<14;a++)t(a);return e}()),t=[],a=function(a){var n=e.splice(0,a);n.map((function(e,t){return e.index=a-1,t<n.length-1?(e.hidden=!0,e):(e.hidden=!1,e)})),t.push(n)},n=1;n<8;n++)a(n);var r=e.map((function(e){return Object(D.a)({},e,{state:p.Deck})}));return{tableuPiles:t,deck:r}},w={foundations:[[],[],[],[]],tableuPiles:[],deck:[],waste:[]},H=function(e){return e.game.present.waste},N=function(e){return e.game.present.deck},P=function(e){return e.game.present.foundations},T=function(e){return e.game.present.tableuPiles},I=function(e){return e.game.present.foundations.map((function(e,t){return"".concat(e.length+1).concat(j[t])}))},G=a(33),_=function(e,t,a){var r;t.find((function(t){return t===e.id}))&&a((r={doubleClickedCard:e},{type:n.CardDoubleClicked,payload:r}))},F=Object(r.memo)((function(e){var t=e.card,c=e.offset,s=e.isLastCard,o=t.hidden,d=t.id,u=t.index,v=t.type,f=Object(m.b)(),b=Object(m.c)(I),x=Object(g.a)({item:{type:v,card:t},end:function(e,t){var a,r=t.getDropResult();if(e&&r){var i=r.nextState;i===p.TableuPile?f((a={movedCard:e.card,index:r.index,nextState:i},{type:n.TableuPileAddCards,payload:a})):i===p.Foundation&&f(function(e){return{type:n.FoundationAddCards,payload:e}}({movedCard:e.card,index:r.index,nextState:i}))}e&&!r&&f(C({movedCard:e.card,isDragging:!1}))},collect:function(e){return{isDragging:e.isDragging(),item:e.getItem()}},canDrag:function(){return!t.hidden}}),y=Object(l.a)(x,3),D=y[0],O=D.isDragging,h=D.item,S=y[1],E=y[2];return Object(r.useEffect)((function(){h&&h.card&&O&&f(C({movedCard:h.card,isDragging:O}))}),[O,h,f]),Object(r.useEffect)((function(){E(Object(G.a)(),{captureDraggingState:!1})}),[E]),i.a.createElement("img",{alt:t.id,ref:t.hidden?null:S,className:"card",src:o?a(17):a(25)("./".concat(d,".svg")),style:{top:c,display:t.isDragging?"none":void 0},onClick:o?function(){return f((e={index:u,id:d},{type:n.TurnCard,payload:e}));var e}:void 0,onDoubleClick:s?function(){return _(t,b,f)}:void 0,onDragStart:function(e){t.hidden&&(e.preventDefault(),e.stopPropagation())}})})),M=F,A=a(120),J=function(e){var t=e.cards,a=e.index,n=p.TableuPile,c=Object(A.a)({accept:"CARD",canDrop:function(e){return function(e,t){return!(0!==t.length||!e||!e.card||13!==e.card.rank)||0!==t.length&&!(!e||!e.card||e.card.rank!==t[t.length-1].rank-1||e.card.color===t[t.length-1].color)}(e,t)},drop:function(){return{index:a,nextState:n}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),s=Object(l.a)(c,2),o=s[0],d=(o.canDrop,o.isOver,s[1]),u=S("(max-width: 525px)"),g=S("(max-width: 710px)"),m=S("(max-width: 940px)"),v=Object(r.useCallback)((function(){return u?15:g?21:m?27:33}),[u,g,m]);return i.a.createElement("div",{ref:d,className:"drop-target"},i.a.createElement("div",{className:"card-border"},t.map((function(e,a){return i.a.createElement(M,{offset:E(a,v()),key:e.id,card:e,isLastCard:a===t.length-1})}))))},B=function(){var e=Object(m.c)(H);return i.a.createElement("div",{className:"talon-foundation drop-target talon"},e.length>0&&e.map((function(t,a){return i.a.createElement(F,{key:t.id,card:t,isLastCard:a===e.length-1})})))},L=function(){var e=Object(m.c)(N),t=Object(m.b)();return i.a.createElement("div",{style:{display:"flex"}},e.length>0?i.a.createElement("picture",null,i.a.createElement("img",{alt:"deck",src:e.length>1?a(89):a(17),onClick:function(){return t(f())},className:"drop-target",onDragStart:function(e){e.preventDefault(),e.stopPropagation()}})):i.a.createElement("div",{className:"drop-target",onClick:function(){return t(f())}},i.a.createElement("div",{className:"card-border"},i.a.createElement("img",{alt:"deck",src:a(90),style:{alignSelf:"center"},width:"60px",height:"60px",onDragStart:function(e){e.preventDefault(),e.stopPropagation()}}))),i.a.createElement(B,null))},R=function(e){var t=e.cards,n=e.index,r=e.foundationSuit,c=e.nextCard,s=p.Foundation,o=Object(m.c)(T),d=Object(A.a)({accept:"CARD",canDrop:function(e){return function(e,t,a,n){var r,i=null===(r=e.card)||void 0===r?void 0:r.id;return(!e||!e.card||e.card.state!==p.TableuPile||e.card.id===n[n.length-1].id)&&i==="".concat(t).concat(a)}(e,c,r,o[e.card.index])},drop:function(){return{index:n,nextState:s}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),u=Object(l.a)(d,2),g=u[0],v=(g.canDrop,g.isOver,u[1]);return i.a.createElement("div",{ref:v,className:"drop-target unselectable talon-foundation"},i.a.createElement("div",{className:"card-border"},i.a.createElement("img",{alt:"foundation",src:a(91)("./".concat(r,".svg")),className:"foundation-suit unselectable",onDragStart:function(e){e.preventDefault(),e.stopPropagation()},width:"30px"}),t.map((function(e,a){return i.a.createElement(F,{offset:0,key:e.id,card:e,isLastCard:a===t.length-1})}))))},W=a(13),U=Object(r.memo)((function(e){var t=e.tableuPiles,n=Object(r.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],d=Object(r.useMemo)((function(){return function(e,t){if(e){var a=t[e.index].findIndex((function(t){return t.id===e.id}));return t[e.index].filter((function(e,t){return t>=a}))}return[]}(s,t)}),[s,t]),u=S("(max-width: 525px)"),g=S("(max-width: 710px)"),m=S("(max-width: 940px)"),v=Object(r.useCallback)((function(){return u?15:g?21:m?27:33}),[u,g,m]);return i.a.createElement(W.b,{generator:function(e){e.itemType;var t=e.item,n=e.style;return t&&t.card&&o(t.card),t&&t.card.state===p.TableuPile?i.a.createElement("div",{style:Object(D.a)({},n,{zIndex:50})},d.map((function(e,n){return i.a.createElement("img",{alt:t.card.id,key:e.id,className:"card",src:a(25)("./".concat(e.id,".svg")),style:{top:E(n,v())}})}))):i.a.createElement("img",{alt:t.card.id,className:"card",src:a(25)("./".concat(t.card.id,".svg")),style:Object(D.a)({},n,{top:E(0,v()),zIndex:50})})}})}));!function(e){e.GameIsOver="score/gameIsOver",e.GetScores="score/getScores"}(x||(x={}));var X,z={startTime:0,isGameOver:!1,scores:[],gameWonTime:null},V=function(e){return e.score.isGameOver},Y=function(e){var t=e.score.gameWonTime;if(t)return h(t)},$=function(e){return e.score.startTime},q=function(e){var t=e.score.scores;if(null===t||void 0===t?void 0:t.length){var a=Object(y.a)(t);return null===a||void 0===a?void 0:a.slice(0,10).sort((function(e,t){return e-t})).map((function(e){return h(e)}))}return null},K=function(){var e=Object(m.b)(),t=Object(m.c)($),a=Object(m.c)(V),n=Object(r.useState)(0),c=Object(l.a)(n,2),s=c[0],o=c[1],d=Object(m.c)(I);return Object(r.useEffect)((function(){if(!a){o(0);var e=setInterval((function(){return o(Date.now()-t)}),1e3);return function(){clearInterval(e)}}}),[t,a]),Object(r.useEffect)((function(){if(!a&&d.every((function(e,t){return e==="14".concat(j[t])}))){var t=JSON.parse(localStorage.getItem("scores")||"{}");if(t&&t.length>0)t.push(s),localStorage.setItem("scores",JSON.stringify(t));else{var n=[s];localStorage.setItem("scores",JSON.stringify(n))}e((r=s,{type:x.GameIsOver,payload:r}))}var r}),[d,e,s,a]),i.a.createElement("div",{className:"timer-container"},i.a.createElement("p",{className:"timer"},h(s)))},Q=function(e){var t=e.icon,n=e.handleClick,r=e.text;return i.a.createElement("button",{className:"game-button",onClick:function(){return n()}},i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("img",{className:"svg-icon",src:a(91)("./".concat(t,".svg")),alt:t}),i.a.createElement("span",{className:"button-text"},r)))},Z=(a(113),function(e){var t=e.onClose,a=e.showModal,n=e.header,r=e.children;return a?i.a.createElement("div",{className:"modal",id:"modal"},i.a.createElement("h2",null,n),i.a.createElement("div",{className:"content"},r),i.a.createElement("div",{className:"actions"},i.a.createElement("button",{className:"toggle-button",onClick:function(){return t()}},"close"))):null});!function(e){e.ClearHistory="history/ClearHistory"}(X||(X={}));var ee=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(m.b)(),s=Object(m.c)(T),o=Object(m.c)(P),d=Object(m.c)(Y),u=Object(m.c)(V),g=Object(m.c)(q);Object(r.useEffect)((function(){var e=k(),t=e.tableuPiles,a=e.deck;c(b({tableuPiles:t,deck:a}))}),[c]),Object(r.useEffect)((function(){var e,t=JSON.parse(localStorage.getItem("scores")||"{}");t&&t.length>0&&c((e=t,{type:x.GetScores,payload:e}))}),[c]);var v=function(){var e=k(),t=e.tableuPiles,a=e.deck;c({type:X.ClearHistory}),c(b({tableuPiles:t,deck:a}))},p=function(){n((function(e){return!e}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Z,{showModal:u,onClose:v,header:"Game Won!"},i.a.createElement("p",null,"Yay you won!"),i.a.createElement("h4",null,"Your time: ",d)),i.a.createElement(Z,{showModal:a,onClose:p,header:"High Scores"},g&&g.length>0?g.map((function(e,t){return i.a.createElement("p",{key:e,className:"score"},t+1,". ",e)})):"Try to finish a game first!"),i.a.createElement(U,{tableuPiles:s}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"top-wrapper"},i.a.createElement("div",{className:"widgets"},i.a.createElement(K,null),i.a.createElement("div",{className:"button-container"},i.a.createElement(Q,{icon:"star",handleClick:v,text:"NEW"}),i.a.createElement(Q,{icon:"trophy",handleClick:p,text:"SCORES"}))),i.a.createElement("div",{className:"top-right-wrapper"},i.a.createElement(L,null),i.a.createElement("div",{className:"foundations"},o.length&&o.map((function(e,t){return i.a.createElement(R,{key:t.toString(),cards:e,index:t,foundationSuit:j[t],nextCard:e.length+1})}))))),i.a.createElement("div",{className:"tableu-piles"},s.map((function(e,t){return i.a.createElement(J,{cards:e,key:t.toString(),index:t})})))))},te=a(23),ae={backends:[{backend:d.a,transition:te.a},{backend:u.a,options:{enableMouseEvents:!0},transition:te.b,skipDispatchOnTransition:!0}]},ne=function(){return i.a.createElement(o.a,{backend:te.c,options:ae},i.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=a(9),ie=a(31),ce=a.n(ie),se=Object(re.b)({game:ce()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.FoundationAddCards:return Object(O.a)(e,(function(e){e.foundations[t.payload.index].push(Object(D.a)({},t.payload.movedCard,{state:p.Foundation,index:t.payload.index,isDragging:!1})),t.payload.movedCard.state===p.Deck?e.waste=e.waste.filter((function(e){return e.id!==t.payload.movedCard.id})):e.tableuPiles[t.payload.movedCard.index]=e.tableuPiles[t.payload.movedCard.index].filter((function(e){return e.id!==t.payload.movedCard.id}))}));case n.TableuPileAddCards:return Object(O.a)(e,(function(e){if(t.payload.movedCard.state===p.TableuPile){var a=e.tableuPiles[t.payload.movedCard.index].findIndex((function(e){return e.id===t.payload.movedCard.id})),n=e.tableuPiles[t.payload.movedCard.index].slice(a).map((function(e){return Object(D.a)({},e,{index:t.payload.index,isDragging:!1})})),r=e.tableuPiles[t.payload.movedCard.index].slice(0,a);e.tableuPiles[t.payload.index]=[].concat(Object(y.a)(e.tableuPiles[t.payload.index]),Object(y.a)(n)),e.tableuPiles[t.payload.movedCard.index]=r}else e.tableuPiles[t.payload.index].push(Object(D.a)({},t.payload.movedCard,{state:p.TableuPile,index:t.payload.index,isDragging:!1})),t.payload.movedCard.state===p.Deck?e.waste=e.waste.filter((function(e){return e.id!==t.payload.movedCard.id})):e.foundations[t.payload.movedCard.index]=e.foundations[t.payload.movedCard.index].filter((function(e){return e.id!==t.payload.movedCard.id}))}));case n.TurnCard:return Object(O.a)(e,(function(e){e.tableuPiles[t.payload.index].map((function(a,n){return a.id===t.payload.id&&n===e.tableuPiles[t.payload.index].length-1?(a.hidden=!1,a):a}))}));case n.DrawCard:return Object(O.a)(e,(function(e){e.deck.length?e.waste.push(e.deck.splice(0,1)[0]):(e.deck=Object(y.a)(e.waste),e.waste=[])}));case n.NewGame:return Object(O.a)(e,(function(e){e.tableuPiles=t.payload.tableuPiles,e.deck=t.payload.deck,e.waste=[],e.foundations=[[],[],[],[]]}));case n.CardIsDragged:return Object(O.a)(e,(function(e){switch(t.payload.movedCard.state){case p.Deck:e.waste=e.waste.map((function(e){return e.id===t.payload.movedCard.id?Object(D.a)({},e,{isDragging:t.payload.isDragging}):Object(D.a)({},e)}));break;case p.Foundation:e.foundations[t.payload.movedCard.index]=e.foundations[t.payload.movedCard.index].map((function(e){return e.id===t.payload.movedCard.id?Object(D.a)({},e,{isDragging:t.payload.isDragging}):Object(D.a)({},e)}));break;case p.TableuPile:var a=e.tableuPiles[t.payload.movedCard.index].findIndex((function(e){return e.id===t.payload.movedCard.id}));e.tableuPiles[t.payload.movedCard.index]=e.tableuPiles[t.payload.movedCard.index].map((function(e,n){return n>=a?Object(D.a)({},e,{isDragging:t.payload.isDragging}):Object(D.a)({},e)}))}}));case n.CardDoubleClicked:return Object(O.a)(e,(function(e){var a=j.indexOf(t.payload.doubleClickedCard.suit);e.foundations[a].length+1===t.payload.doubleClickedCard.rank&&(e.foundations[a].push(Object(D.a)({},t.payload.doubleClickedCard,{index:a,state:p.Foundation})),t.payload.doubleClickedCard.state===p.TableuPile?e.tableuPiles[t.payload.doubleClickedCard.index]=e.tableuPiles[t.payload.doubleClickedCard.index].slice(0,-1):t.payload.doubleClickedCard.state===p.Deck&&(e.waste=e.waste.slice(0,-1)))}));default:return e}}),{ignoreInitialState:!0,clearHistoryType:X.ClearHistory,filter:Object(ie.excludeAction)([n.CardIsDragged,n.NewGame])}),score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.NewGame:return Object(O.a)(e,(function(e){e.startTime=Date.now(),e.isGameOver=!1}));case x.GetScores:return Object(O.a)(e,(function(e){e.scores=Object(y.a)(t.payload)}));case x.GameIsOver:return Object(O.a)(e,(function(e){var a;e.isGameOver=!0,null===(a=e.scores)||void 0===a||a.push(t.payload),e.gameWonTime=t.payload}));default:return e}}}),oe=Object(re.c)(se,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(i.a.createElement(m.a,{store:oe},i.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[96,1,2]]]);
//# sourceMappingURL=main.b9a693c7.chunk.js.map